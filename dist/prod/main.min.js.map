{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","main.min.js","src/js/app.js","src/js/data.js","src/js/data/geometry.js","src/js/factory.js","src/js/menu.js","src/js/util.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","startRenderLoop","scene","camera","renderer","getter","loop","object","rotation","x","y","render","window","requestAnimationFrame","_interopRequireDefault","obj","__esModule","default","_THREE","_THREE2","_import","_import2","_Factory","_Factory2","_Menu","_Menu2","_Util","_Util2","addObject","curry","add","removeObject","remove","getObjectByName","name","nameObject","WIDTH","innerWidth","HEIGHT","innerHeight","OBJECT_NAME","DEFAULT_OBJECT","Scene","PerspectiveCamera","WebGLRenderer","position","z","setSize","document","body","appendChild","domElement","addObjectByLabel","flowRight","createObject","getLabel","addAndNameObjectByLabel","removeObjectByName","getMainObject","partial","removeMainObject","listenTo","evt","generate","light","PointLight","./factory","./menu","./util","lodash","three",2,"Object","defineProperty","value","_GeometryData","_GeometryData2","defaults","args","step","min","max","color","cloneBaseDataByLabel","map","rearg","data","label","cloneDeep","_","decorateDataWithDefaults","getDefault","cache","get","set","update","key","find","getCache","setCache","updateCache","setDefault","getArgumentValues","pluck","prop","getOrGetAndSetDefault","getArgumentList","updateColor","getArgs","reset","./data/geometry",3,"BoxGeometry","SphereGeometry","Math","PI","CylinderGeometry","CircleGeometry","DodecahedronGeometry","IcosahedronGeometry","OctahedronGeometry","PlaneGeometry","PlaneBufferGeometry","RingGeometry","TetrahedronGeometry","TorusGeometry","TorusKnotGeometry",4,"generateInstance","constructor","isFunction","F","apply","this","prototype","_Data","_Data2","createObjectByLabel","MeshLambertMaterial","instance","Mesh","./data",5,"_Handlebars","_Handlebars2","SELECTED_CLASS","objectsMenu","getElementById","generatePropertiesTemplate","compile","innerHTML","generateGeometryTemplate","getFirstElementByClassName","className","first","getElementsByClassName","setUniqueClass","newEl","oldEl","classList","swapSelected","handleClick","target","parent","closest","panel","querySelector","contains","firstChild","removeChild","handleInput","id","handlers","el","type","handler","baseHandler","addEventListener","click","input","generateMenu","keys","handlebars",6,"getFactoryValue","dataset","factory","getLabelFromEventTarget","trace","tag","console","log"],"mappings":"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","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",null,"/**\n * Playing around with THREE.js.\n * Also, practicing FP. Hipster alert!\n */\n\nimport THREE from 'three';\nimport _ from 'lodash';\nimport Factory from './factory';\nimport Menu from './menu';\nimport Util from './util';\n\n// Wrapping the scene object addition method.\n// But I guess this isn't pure because we're mutating the scene, right? Eh.\nvar addObject = _.curry((scene, object) => {\n  if (object) {\n    scene.add(object);\n  }\n  return object;\n});\n\n// Wrapping the scene object removal method.\nvar removeObject = _.curry((scene, object) => {\n  scene.remove(object);\n  return object;\n});\n\n// Wrapping the object retrieval method.\nvar getObjectByName = _.curry((scene, name) => {\n  return scene.getObjectByName(name);\n});\n\n// I guess this is not pure because I'm mutating the object. How else to do this?\n// Perhaps not all functions need to be pure.\nvar nameObject = _.curry((name, object) => {\n  if (object) {\n    object.name = name;\n  }\n  return object;\n});\n\n/**\n * Fancy-schmancy render loop creator. Well, not **too** fancy anyways.\n * Not sure about the best way to handle this in FP, or in a pure way.\n * This is fine for now.\n * @param {Scene} scene A THREE.js Scene object.\n * @param {Camera} camera A THREE.js Camera object.\n * @param {Renderer} renderer A THREE.js renderer.\n * @param {Function} getter A method for retrieving the main object.\n */\nfunction startRenderLoop(scene, camera, renderer, getter) {\n  (function loop() {\n    var object = getter();\n    if (object) {\n      object.rotation.x += 0.02;\n      object.rotation.y += 0.02;\n    }\n    renderer.render(scene, camera);\n    window.requestAnimationFrame(loop);\n  }());\n}\n\n\n\n// Some crap:\nvar WIDTH = window.innerWidth,\n    HEIGHT = window.innerHeight,\n\n    // This is what we'll call the shape being rendered.\n    OBJECT_NAME = 'mainObject',\n    DEFAULT_OBJECT = 'BoxGeometry',\n\n    // The three things needed to render a scene:\n    scene = new THREE.Scene(),\n    camera = new THREE.PerspectiveCamera(75, WIDTH / HEIGHT, 0.1, 1000),\n    renderer = new THREE.WebGLRenderer();\n\n// Some more crap:\ncamera.position.z = 5;\nrenderer.setSize(WIDTH, HEIGHT);\ndocument.body.appendChild(renderer.domElement);\n\n\n\n// OK LET'S HAVE FUN.\n\n// Generic object adding method.\nvar addObjectByLabel = _.flowRight(addObject(scene), Factory.createObject, Util.getLabel);\n\n// Adds an object and sets the name as 'main'.\nvar addAndNameObjectByLabel = _.flowRight(nameObject(OBJECT_NAME), addObjectByLabel);\n\n// Remove an object by name;\nvar removeObjectByName = _.flowRight(removeObject(scene), getObjectByName);\n\n// Retrieve the main object from the scene.\nvar getMainObject = _.partial(getObjectByName, scene, OBJECT_NAME);\n\n// Removes the main object from the stage.\nvar removeMainObject = _.partial(removeObjectByName, scene, OBJECT_NAME);\n\n\n// Is there a way to invoke a function but \"pass through\" the argument\n// from the function before it to the function after it?\nMenu.listenTo('click', evt => {\n  if (evt) {\n    removeMainObject();\n    addAndNameObjectByLabel(evt);\n  }\n});\n\nMenu.listenTo('input', evt => {\n  removeMainObject();\n  addAndNameObjectByLabel(evt);\n});\n\nMenu.generate();\n\n// Shed some light on the subject. Gotta integrate this with factory.js.\nvar light = light = new THREE.PointLight(0xffffff);\nlight.position.x = 0;\nlight.position.y = 10;\nlight.position.z = 100;\naddObject(scene, light);\n\n\n\n// Create the default shape.\naddAndNameObjectByLabel(DEFAULT_OBJECT);\n\n// Start rendering that shiz!\nstartRenderLoop(scene, camera, renderer, getMainObject);\n","import _ from 'lodash';\nimport Util from './util';\nimport GeometryData from './data/geometry';\n\n// Default values for some data object keys.\n// Maybe this should be in geometry data...\nvar defaults = {\n  args: {\n    value: 1,\n    step: 0.1,\n    min: 0.1,\n    max: 10\n  },\n  color: '#00ff00'\n};\n\n// Nerd alert.\n//var map = _.rearg(_.curry(_.map, 2), [1, 0]);\nvar map = _(_.map).rearg([1, 0]).curry(2).value();\n\n/**\n * Deeply clones a node from a data object and returns the result.\n * @param {Object} data The base data object.\n * @param {String} label The key to clone.\n * @return {Object} The freshly-cloned data.\n */\nvar cloneBaseDataByLabel = _.curry((data, label) => {\n  return _.cloneDeep(data[label]);\n});\n\nwindow._ = _;\n/**\n * Merges nodes in a data map with provided defaults.\n * @param {Object} defaults A shallow map of default values to merge.\n * @param {Object} data The base data you wish to decorate.\n * @return {Object} The decorated data.\n */\nvar decorateDataWithDefaults = _.curry((defaults, data) => {\n\n  // Loose properties.\n  _.defaults(data, defaults);\n\n  // Set arg defauts.\n  _.map(data.args, value => {\n    _.defaults(value, defaults.args);\n  });\n\n  return data;\n});\n\n/**\n * Retrieves an object's default data by label. This includes argument names,\n * initial values, and value boundaries.\n * @param {String} label The object label to retrieve data for.\n * @return {Object} A map of all the default values.\n */\nvar getDefault = _.flowRight(decorateDataWithDefaults(defaults), cloneBaseDataByLabel(GeometryData));\n\nvar cache = {};\nvar get = (cache, label) => cache[label];\nvar set = (cache, label, data) => {\n  cache[label] = data;\n  return data;\n};\nvar update = (cache, label, key, value) => {\n  _.find(cache[label].args, {name: key}).value = value;\n  return cache[label];\n};\n\nvar getCache = _.partial(get, cache);\nvar setCache = _.partial(set, cache);\nvar updateCache = _.partial(update, cache);\n\nvar setDefault = label => {\n  return setCache(label, getDefault(label));\n};\n\nvar getArgumentValues = data => _.pluck(data, 'value');\n\nvar prop = _.curry((key, object) => object[key]);\n\n/**\n * Retrieves data by label or sets the default data for the label\n * and returns it.\n * @param {String} label The label to retrieve data for.\n * @return {Object} The data payload.\n */\nvar getOrGetAndSetDefault = label => getCache(label) || setDefault(label);\n\n/**\n * Retrieves the ordered argument values for an object by label.\n * @param {String} label The object label to retrieve default args for.\n * @return {Array} The ordered collection of values.\n */\nvar getArgumentList = _.flowRight(getArgumentValues, prop('args'), getOrGetAndSetDefault);\n\n// Hacky\nvar updateColor = (label, color) => {\n  cache[label].color = color;\n};\n\nexport default {\n  get: getOrGetAndSetDefault,\n  getArgs: getArgumentList,\n  update: updateCache,\n  reset: setDefault,\n  updateColor\n}\n","export default {\n\n  BoxGeometry:  {\n    args: [\n      {\n        name: 'width',\n      },\n      {\n        name: 'height'\n      },\n      {\n        name: 'depth'\n      },\n      {\n        name: 'widthSegments',\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'heightSegments',\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'depthSegments',\n        step: 1,\n        min: 1\n      }\n    ]\n  },\n\n  SphereGeometry: {\n    args: [\n      {\n        name: 'radius',\n        max: 4\n      },\n      {\n        name: 'widthSegments',\n        value: 32,\n        step: 1,\n        min:1,\n        max: 64\n      },\n      {\n        name: 'heightSegments',\n        value: 32,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'phiStart',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 360\n      },\n      {\n        name: 'phiLength',\n        value: Math.PI * 2,\n        max: 360\n      },\n      {\n        name: 'thetaStart',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 360\n      },\n      {\n        name: 'thetaLength',\n        value: Math.PI * 2,\n        max: 360\n      }\n    ]\n  },\n\n  CylinderGeometry: {\n    args: [\n      {\n        name: 'radiusTop',\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'radiusBottom',\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'height',\n        value: 3\n      },\n      {\n        name: 'radiusSegments',\n        value: 32,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'heightSegments',\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'openEnded',\n        value: false\n      },\n      {\n        name: 'thetaStart',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 360\n      },\n      {\n        name: 'thetaLength',\n        value: Math.PI * 2,\n        max: 360\n      }\n    ]\n  },\n\n  CircleGeometry: {\n    args: [\n      {\n        name: 'radius',\n        max: 4\n      },\n      {\n        name: 'segments',\n        value: 32,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'thetaStart',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 360\n      },\n      {\n        name: 'thetaLength',\n        value: Math.PI * 2,\n        max: 360\n      }\n    ]\n  },\n\n  DodecahedronGeometry: {\n    args: [\n      {\n        name: 'radius',\n        max: 4\n      },\n      {\n        name: 'detail',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 4\n      }\n    ]\n  },\n\n  IcosahedronGeometry: {\n    args: [\n      {\n        name: 'radius',\n        max: 4\n      },\n      {\n        name: 'detail',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 4\n      }\n    ]\n  },\n\n  OctahedronGeometry: {\n    args: [\n      {\n        name: 'radius',\n        max: 4\n      },\n      {\n        name: 'detail',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 4\n      }\n    ]\n  },\n\n  PlaneGeometry: {\n    args: [\n      {\n        name: 'width'\n      },\n      {\n        name: 'height'\n      },\n      {\n        name: 'widthSegments',\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'heightSegments',\n        step: 1,\n        min: 1\n      }\n    ]\n  },\n\n  PlaneBufferGeometry: {\n    args: [\n      {\n        name: 'width'\n      },\n      {\n        name: 'height'\n      },\n      {\n        name: 'widthSegments',\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'heightSegments',\n        step: 1,\n        min: 1\n      }\n    ]\n  },\n\n  RingGeometry: {\n    args: [\n      {\n        name: 'innerRadius',\n        value: 1,\n        min: 0\n      },\n      {\n        name: 'outerRadius',\n        value: 2,\n        max: 10\n      },\n      {\n        name: 'thetaSegments',\n        value: 32,\n        step: 1,\n        min: 3,\n        max: 64\n      },\n      {\n        name: 'phiSegments',\n        value: 8,\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'thetaStart',\n        value: 0,\n        step: 1,\n        min: 0\n      },\n      {\n        name: 'thetaLength',\n        value: Math.PI * 2,\n        step: Math.PI / 64,\n        max: Math.PI * 2\n      }\n    ]\n  },\n\n  TetrahedronGeometry: {\n    args: [\n      {\n        name: 'radius',\n        max: 4\n      },\n      {\n        name: 'detail',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 4\n      }\n    ]\n  },\n\n  TorusGeometry: {\n    args: [\n      {\n        name: 'radius',\n        value: 1.5\n      },\n      {\n        name: 'tube',\n        value: 0.5\n      },\n      {\n        name: 'radialSegments',\n        value: 16,\n        max: 64\n      },\n      {\n        name: 'tubularSegments',\n        value: 100,\n        max: 100\n      },\n      {\n        name: 'arc',\n        value: Math.PI * 2\n      }\n    ]\n  },\n\n  TorusKnotGeometry: {\n    args: [\n      {\n        name: 'radius',\n        value: 1.5\n      },\n      {\n        name: 'tube',\n        value: 0.5\n      },\n      {\n        name: 'radialSegments',\n        value: 16,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'tubularSegments',\n        value: 64,\n        max: 128\n      },\n      {\n        name: 'p',\n        value: 2\n      },\n      {\n        name: 'q',\n        value: 3\n      },\n      {\n        name: 'heightScale',\n        value: 1\n      }\n    ]\n  }\n\n  // ExtrudeGeometry\n  // LatheGeometry\n  // ParametricGeometry\n  // TextGeometry\n  // TubeGeometry\n\n};","import THREE from 'three';\nimport _ from 'lodash';\nimport Data from './data';\n\nfunction generateInstance(label, args) {\n\n  var constructor = THREE[label];\n\n  if (_.isFunction(constructor)) {\n    function F() {\n      return constructor.apply(this, args);\n    }\n    F.prototype = constructor.prototype;\n    return new F();\n  }\n\n  return null;\n}\n\n// Basic mesh material.\nvar mesh = new THREE.MeshLambertMaterial({color: '#00ff00'});\n\nvar createObjectByLabel = (label) => {\n  var instance = generateInstance(label, Data.getArgs(label));\n  if (instance) {\n    return new THREE.Mesh(instance, new THREE.MeshLambertMaterial({color: Data.get(label).color}));\n  }\n  return null;\n};\n\nexport default {\n  createObject: createObjectByLabel\n};\n","import _ from 'lodash';\nimport Handlebars from 'handlebars';\nimport Util from './util';\nimport Data from './data';\nimport GeometryData from './data/geometry';\n\nvar SELECTED_CLASS = 'selected',\n    objectsMenu = document.getElementById('objects'),\n    generatePropertiesTemplate = Handlebars.compile(document.getElementById('properties-template').innerHTML),\n    generateGeometryTemplate = Handlebars.compile(document.getElementById('geometry-template').innerHTML);\n\n/**\n * A wrapper for getElementsByClassName that only returns a single element.\n * @param  {String} className The class name to find elements by.\n * @return {DOMElement} The first found element.\n */\nvar getFirstElementByClassName = className => {\n  return _.first(document.getElementsByClassName(className));\n};\n\n/**\n * Sets a class on a given element, first making sure that the class\n * is removed from a previous element.\n * @param {Function} getter A function used to find a previous element.\n * @param {String} className The class to set.\n * @param {DOMElement} newEl The element receiving the new class.\n * @return {DOMElement} The newEl reference.\n */\nvar setUniqueClass = _.curry((getter, className, newEl) => {\n  var oldEl = getter(className);\n  if (oldEl) {\n    oldEl.classList.remove(className);\n  }\n  newEl.classList.add(className);\n  return newEl;\n});\n\n// Sets a unique 'selected' class on an element.\nvar swapSelected = setUniqueClass(getFirstElementByClassName, SELECTED_CLASS);\n\nvar handleClick = evt => {\n\n  var target = evt.target,\n      parent = target.closest('li'),\n      panel = parent.querySelector('.panel'),\n      label = Util.getLabel(evt);\n\n  // Reset the object if the reset button was pressed.\n  if (target.classList.contains('reset')) {\n    Data.reset(label);\n  }\n\n  // Otherwise, bail if it's not a factory button.\n  else if (!target.classList.contains('factory')) {\n    return false;\n  }\n\n  // Unselect the old, select the new.\n  swapSelected(parent);\n\n  // Unattach propertiesMenu before updating.\n  if (panel.firstChild) {\n    panel.removeChild(panel.firstChild);\n  }\n\n  // Align the properties box with the selected button.\n  panel.innerHTML = generatePropertiesTemplate(Data.get(label));\n\n  // Pass the event object along.\n  return label;\n};\n\nvar handleInput = evt => {\n\n  var target = evt.target,\n      label = Util.getLabel(evt);\n\n  if (target.id === 'input-color') {\n    Data.updateColor(label, target.value);\n  }\n  else {\n    target.closest('li').querySelector('output').innerHTML = target.value;\n    Data.update(label, target.name, target.value);\n  }\n  return evt;\n};\n\nvar listenTo = _.curry((handlers, el, type, handler) => {\n  var baseHandler = handlers[type];\n  if (baseHandler) {\n    handler = _.flowRight(handler, baseHandler);\n  }\n  el.addEventListener(type, handler);\n});\n\nvar handlers = {\n  click: handleClick,\n  input: handleInput\n};\n\nvar generateMenu = () => {\n  var data = _.keys(GeometryData);\n  document.getElementById('objects').innerHTML = generateGeometryTemplate(data);\n};\n\nexport default {\n  generate: generateMenu,\n  listenTo: listenTo(handlers, objectsMenu)\n};\n","import _ from 'lodash';\n\nfunction getFactoryValue(el) {\n  return el.dataset.factory;\n}\n\nfunction getLabelFromEventTarget(evt) {\n  var target = evt && evt.target;\n  if (target) {\n    return getFactoryValue(target) || getFactoryValue(target.closest('.selected').querySelector('button'));\n  }\n  return null;\n}\n\n// A little method for extracting factory labels (classes) from events.\n// If the input is not an object, return it.\nvar getLabel = evt => {\n  return getLabelFromEventTarget(evt) || evt;\n};\n\n// Troubleshooting.\nvar trace = _.curry((tag, x) => {\n  console.log(tag, x);\n  return x;\n});\n\nexport default {\n  getLabel,\n  trace\n};\n"],"sourceRoot":"/source/"}