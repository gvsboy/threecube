{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","main.min.js","src/js/app.js","src/js/data.js","src/js/data/geometry.js","src/js/factory.js","src/js/menu.js","src/js/util.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","startRenderLoop","scene","camera","renderer","getter","loop","object","rotation","x","y","render","window","requestAnimationFrame","_interopRequireDefault","obj","__esModule","default","_THREE","_THREE2","_import","_import2","_Factory","_Factory2","_Menu","_Menu2","_Util","_Util2","addObject","curry","add","removeObject","remove","getObjectByName","name","nameObject","WIDTH","innerWidth","HEIGHT","innerHeight","OBJECT_NAME","DEFAULT_OBJECT","Scene","PerspectiveCamera","WebGLRenderer","position","z","setSize","document","body","appendChild","domElement","getElementById","addEventListener","evt","zoom","target","dataset","parseInt","addObjectByLabel","flowRight","createObject","getLabel","addAndNameObjectByLabel","removeObjectByName","getMainObject","partial","removeMainObject","listener","listenTo","generate","light","PointLight","./factory","./menu","./util","lodash","three",2,"Object","defineProperty","value","_GeometryData","_GeometryData2","defaults","args","step","min","max","color","cloneBaseDataByLabel","map","rearg","data","label","cloneDeep","_","decorateDataWithDefaults","getDefault","cache","get","set","update","key","find","getCache","setCache","updateCache","setDefault","getArgumentValues","pluck","prop","getOrGetAndSetDefault","getArgumentList","updateProp","getArgs","reset","./data/geometry",3,"BoxGeometry","SphereGeometry","Math","PI","CylinderGeometry","CircleGeometry","DodecahedronGeometry","IcosahedronGeometry","OctahedronGeometry","PlaneGeometry","PlaneBufferGeometry","RingGeometry","TetrahedronGeometry","TorusGeometry","TorusKnotGeometry",4,"generateInstance","constructor","isFunction","F","apply","this","prototype","_Data","_Data2","createObjectByLabel","instance","texture","ImageUtils","loadTexture","console","log","imageMaterial","MeshPhongMaterial","alphaTest","specular","emissive","shiness","side","DoubleSide","Mesh","MeshLambertMaterial","./data",5,"_Handlebars","_Handlebars2","SELECTED_CLASS","objectsMenu","generatePropertiesTemplate","compile","innerHTML","generateGeometryTemplate","getFirstElementByClassName","className","first","getElementsByClassName","setUniqueClass","newEl","oldEl","classList","swapSelected","handleClick","parent","closest","panel","querySelector","contains","firstChild","removeChild","handleInput","id","handleChange","handlers","el","type","handler","baseHandler","click","input","change","generateMenu","keys","handlebars",6,"getFactoryValue","factory","getLabelFromEventTarget","trace","tag"],"mappings":"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","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",null,"/**\n * Playing around with THREE.js.\n * Also, practicing FP. Hipster alert!\n */\n\nimport THREE from 'three';\nimport _ from 'lodash';\nimport Factory from './factory';\nimport Menu from './menu';\nimport Util from './util';\n\n// Wrapping the scene object addition method.\n// But I guess this isn't pure because we're mutating the scene, right? Eh.\nvar addObject = _.curry((scene, object) => {\n  if (object) {\n    scene.add(object);\n  }\n  return object;\n});\n\n// Wrapping the scene object removal method.\nvar removeObject = _.curry((scene, object) => {\n  scene.remove(object);\n  return object;\n});\n\n// Wrapping the object retrieval method.\nvar getObjectByName = _.curry((scene, name) => {\n  return scene.getObjectByName(name);\n});\n\n// I guess this is not pure because I'm mutating the object. How else to do this?\n// Perhaps not all functions need to be pure.\nvar nameObject = _.curry((name, object) => {\n  if (object) {\n    object.name = name;\n  }\n  return object;\n});\n\n/**\n * Fancy-schmancy render loop creator. Well, not **too** fancy anyways.\n * Not sure about the best way to handle this in FP, or in a pure way.\n * This is fine for now.\n * @param {Scene} scene A THREE.js Scene object.\n * @param {Camera} camera A THREE.js Camera object.\n * @param {Renderer} renderer A THREE.js renderer.\n * @param {Function} getter A method for retrieving the main object.\n */\nfunction startRenderLoop(scene, camera, renderer, getter) {\n  (function loop() {\n    var object = getter();\n    if (object) {\n      object.rotation.x += 0.02;\n      object.rotation.y += 0.02;\n    }\n    renderer.render(scene, camera);\n    window.requestAnimationFrame(loop);\n  }());\n}\n\n\n\n// Some crap:\nvar WIDTH = window.innerWidth,\n    HEIGHT = window.innerHeight,\n\n    // This is what we'll call the shape being rendered.\n    OBJECT_NAME = 'mainObject',\n    DEFAULT_OBJECT = 'BoxGeometry',\n\n    // The three things needed to render a scene:\n    scene = new THREE.Scene(),\n    camera = new THREE.PerspectiveCamera(75, WIDTH / HEIGHT, 0.1, 1000),\n    renderer = new THREE.WebGLRenderer();\n\n// Some more crap:\ncamera.position.z = 100;\nrenderer.setSize(WIDTH, HEIGHT);\ndocument.body.appendChild(renderer.domElement);\n\ndocument.getElementById('camera').addEventListener('mousedown', function(evt) {\n  var zoom = evt.target.dataset.zoom;\n  if (zoom) {\n    camera.position.z += parseInt(zoom, 10);\n  }\n});\n\n\n// OK LET'S HAVE FUN.\n\n// Generic object adding method.\nvar addObjectByLabel = _.flowRight(addObject(scene), Factory.createObject, Util.getLabel);\n\n// Adds an object and sets the name as 'main'.\nvar addAndNameObjectByLabel = _.flowRight(nameObject(OBJECT_NAME), addObjectByLabel);\n\n// Remove an object by name;\nvar removeObjectByName = _.flowRight(removeObject(scene), getObjectByName);\n\n// Retrieve the main object from the scene.\nvar getMainObject = _.partial(getObjectByName, scene, OBJECT_NAME);\n\n// Removes the main object from the stage.\nvar removeMainObject = _.partial(removeObjectByName, scene, OBJECT_NAME);\n\nvar listener = evt => {\n  if (evt) {\n    removeMainObject();\n    addAndNameObjectByLabel(evt);\n  }\n};\n\nMenu.listenTo('click', listener);\nMenu.listenTo('input', listener);\nMenu.listenTo('change', listener);\nMenu.generate();\n\n// Shed some light on the subject. Gotta integrate this with factory.js.\nvar light = light = new THREE.PointLight(0xffffff);\nlight.position.x = 0;\nlight.position.y = 10;\nlight.position.z = 100;\naddObject(scene, light);\n\n\n\n// Create the default shape.\naddAndNameObjectByLabel(DEFAULT_OBJECT);\n\n// Start rendering that shiz!\nstartRenderLoop(scene, camera, renderer, getMainObject);\n","import _ from 'lodash';\nimport Util from './util';\nimport GeometryData from './data/geometry';\n\n// Default values for some data object keys.\n// Maybe this should be in geometry data...\nvar defaults = {\n  args: {\n    value: 30,\n    step: 0.1,\n    min: 0.1,\n    max: 100\n  },\n  color: '#00ff00'\n};\n\n// Nerd alert.\n//var map = _.rearg(_.curry(_.map, 2), [1, 0]);\nvar map = _(_.map).rearg([1, 0]).curry(2).value();\n\n/**\n * Deeply clones a node from a data object and returns the result.\n * @param {Object} data The base data object.\n * @param {String} label The key to clone.\n * @return {Object} The freshly-cloned data.\n */\nvar cloneBaseDataByLabel = _.curry((data, label) => {\n  return _.cloneDeep(data[label]);\n});\n\nwindow._ = _;\n/**\n * Merges nodes in a data map with provided defaults.\n * @param {Object} defaults A shallow map of default values to merge.\n * @param {Object} data The base data you wish to decorate.\n * @return {Object} The decorated data.\n */\nvar decorateDataWithDefaults = _.curry((defaults, data) => {\n\n  // Loose properties.\n  _.defaults(data, defaults);\n\n  // Set arg defauts.\n  _.map(data.args, value => {\n    _.defaults(value, defaults.args);\n  });\n\n  return data;\n});\n\n/**\n * Retrieves an object's default data by label. This includes argument names,\n * initial values, and value boundaries.\n * @param {String} label The object label to retrieve data for.\n * @return {Object} A map of all the default values.\n */\nvar getDefault = _.flowRight(decorateDataWithDefaults(defaults), cloneBaseDataByLabel(GeometryData));\n\nvar cache = {};\nvar get = (cache, label) => cache[label];\nvar set = (cache, label, data) => {\n  cache[label] = data;\n  return data;\n};\nvar update = (cache, label, key, value) => {\n  _.find(cache[label].args, {name: key}).value = value;\n  return cache[label];\n};\n\nvar getCache = _.partial(get, cache);\nvar setCache = _.partial(set, cache);\nvar updateCache = _.partial(update, cache);\n\nvar setDefault = label => {\n  return setCache(label, getDefault(label));\n};\n\nvar getArgumentValues = data => _.pluck(data, 'value');\n\nvar prop = _.curry((key, object) => object[key]);\n\n/**\n * Retrieves data by label or sets the default data for the label\n * and returns it.\n * @param {String} label The label to retrieve data for.\n * @return {Object} The data payload.\n */\nvar getOrGetAndSetDefault = label => getCache(label) || setDefault(label);\n\n/**\n * Retrieves the ordered argument values for an object by label.\n * @param {String} label The object label to retrieve default args for.\n * @return {Array} The ordered collection of values.\n */\nvar getArgumentList = _.flowRight(getArgumentValues, prop('args'), getOrGetAndSetDefault);\n\nvar updateProp = (label, prop, value) => {\n  cache[label][prop] = value;\n};\n\nexport default {\n  get: getOrGetAndSetDefault,\n  getArgs: getArgumentList,\n  update: updateCache,\n  reset: setDefault,\n  updateProp\n}\n","export default {\n\n  BoxGeometry:  {\n    args: [\n      {\n        name: 'width'\n      },\n      {\n        name: 'height'\n      },\n      {\n        name: 'depth'\n      },\n      {\n        name: 'widthSegments',\n        value: 1,\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'heightSegments',\n        value: 1,\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'depthSegments',\n        value: 1,\n        step: 1,\n        min: 1\n      }\n    ]\n  },\n\n  SphereGeometry: {\n    args: [\n      {\n        name: 'radius'\n      },\n      {\n        name: 'widthSegments',\n        value: 32,\n        step: 1,\n        min:1,\n        max: 64\n      },\n      {\n        name: 'heightSegments',\n        value: 16,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'phiStart',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 360\n      },\n      {\n        name: 'phiLength',\n        value: Math.PI * 2,\n        max: 360\n      },\n      {\n        name: 'thetaStart',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 360\n      },\n      {\n        name: 'thetaLength',\n        value: Math.PI,\n        max: 360\n      }\n    ]\n  },\n\n  CylinderGeometry: {\n    args: [\n      {\n        name: 'radiusTop',\n        value: 30,\n        max: 100\n      },\n      {\n        name: 'radiusBottom',\n        value: 30,\n        max: 100\n      },\n      {\n        name: 'height',\n        value: 100,\n        max: 200\n      },\n      {\n        name: 'radiusSegments',\n        value: 32,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'heightSegments',\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'openEnded',\n        value: false\n      },\n      {\n        name: 'thetaStart',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 360\n      },\n      {\n        name: 'thetaLength',\n        value: Math.PI * 2,\n        max: 360\n      }\n    ]\n  },\n\n  CircleGeometry: {\n    args: [\n      {\n        name: 'radius'\n      },\n      {\n        name: 'segments',\n        value: 32,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'thetaStart',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 360\n      },\n      {\n        name: 'thetaLength',\n        value: Math.PI * 2,\n        max: 360\n      }\n    ]\n  },\n\n  DodecahedronGeometry: {\n    args: [\n      {\n        name: 'radius'\n      },\n      {\n        name: 'detail',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 4\n      }\n    ]\n  },\n\n  IcosahedronGeometry: {\n    args: [\n      {\n        name: 'radius'\n      },\n      {\n        name: 'detail',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 4\n      }\n    ]\n  },\n\n  OctahedronGeometry: {\n    args: [\n      {\n        name: 'radius'\n      },\n      {\n        name: 'detail',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 4\n      }\n    ]\n  },\n\n  PlaneGeometry: {\n    args: [\n      {\n        name: 'width'\n      },\n      {\n        name: 'height'\n      },\n      {\n        name: 'widthSegments',\n        value: 1,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'heightSegments',\n        value: 1,\n        step: 1,\n        min: 1,\n        max: 64\n      }\n    ]\n  },\n\n  PlaneBufferGeometry: {\n    args: [\n      {\n        name: 'width'\n      },\n      {\n        name: 'height'\n      },\n      {\n        name: 'widthSegments',\n        value: 1,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'heightSegments',\n        value: 1,\n        step: 1,\n        min: 1,\n        max: 64\n      }\n    ]\n  },\n\n  RingGeometry: {\n    args: [\n      {\n        name: 'innerRadius',\n        value: 20,\n        step: 1,\n        min: 0\n      },\n      {\n        name: 'outerRadius',\n        value: 30,\n        step: 1,\n        min: 0\n      },\n      {\n        name: 'thetaSegments',\n        value: 32,\n        step: 1,\n        min: 3,\n        max: 64\n      },\n      {\n        name: 'phiSegments',\n        value: 8,\n        step: 1,\n        min: 1\n      },\n      {\n        name: 'thetaStart',\n        value: 0,\n        step: 1,\n        min: 0\n      },\n      {\n        name: 'thetaLength',\n        value: Math.PI * 2,\n        step: Math.PI / 64,\n        max: Math.PI * 2\n      }\n    ]\n  },\n\n  TetrahedronGeometry: {\n    args: [\n      {\n        name: 'radius'\n      },\n      {\n        name: 'detail',\n        value: 0,\n        step: 1,\n        min: 0,\n        max: 4\n      }\n    ]\n  },\n\n  TorusGeometry: {\n    args: [\n      {\n        name: 'radius'\n      },\n      {\n        name: 'tube',\n        value: 10\n      },\n      {\n        name: 'radialSegments',\n        value: 16,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'tubularSegments',\n        value: 7,\n        step: 1,\n        min: 1,\n        max: 100\n      },\n      {\n        name: 'arc',\n        value: Math.PI * 2\n      }\n    ]\n  },\n\n  TorusKnotGeometry: {\n    args: [\n      {\n        name: 'radius'\n      },\n      {\n        name: 'tube',\n        value: 10\n      },\n      {\n        name: 'radialSegments',\n        value: 16,\n        step: 1,\n        min: 1,\n        max: 64\n      },\n      {\n        name: 'tubularSegments',\n        value: 64,\n        max: 128\n      },\n      {\n        name: 'p',\n        value: 2\n      },\n      {\n        name: 'q',\n        value: 3\n      },\n      {\n        name: 'heightScale',\n        value: 1\n      }\n    ]\n  }\n\n  // ExtrudeGeometry\n  // LatheGeometry\n  // ParametricGeometry\n  // TextGeometry\n  // TubeGeometry\n\n};","import THREE from 'three';\nimport _ from 'lodash';\nimport Data from './data';\n\nfunction generateInstance(label, args) {\n\n  var constructor = THREE[label];\n\n  if (_.isFunction(constructor)) {\n    function F() {\n      return constructor.apply(this, args);\n    }\n    F.prototype = constructor.prototype;\n    return new F();\n  }\n\n  return null;\n}\n\nvar createObjectByLabel = label => {\n\n  var instance = generateInstance(label, Data.getArgs(label)),\n      data = Data.get(label);\n\n  if (data.texture) {\n    var texture = THREE.ImageUtils.loadTexture('img/' + data.texture + '.jpg');\n    console.log('loaded texture:', texture);\n\n    //texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n    //texture.anisotropy = 16;\n\n    var imageMaterial = new THREE.MeshPhongMaterial({\n      alphaTest: 0.5,\n      color: 0xffffff,\n      specular: 0x030303,\n      emissive: 0x111111,\n      shiness: 10,\n      map: texture,\n      side: THREE.DoubleSide\n    });\n  }\n\n  if (instance) {\n    return new THREE.Mesh(instance, imageMaterial || new THREE.MeshLambertMaterial({color: data.color}));\n  }\n\n  return null;\n};\n\nexport default {\n  createObject: createObjectByLabel\n};\n","import _ from 'lodash';\nimport Handlebars from 'handlebars';\nimport Util from './util';\nimport Data from './data';\nimport GeometryData from './data/geometry';\n\nvar SELECTED_CLASS = 'selected',\n    objectsMenu = document.getElementById('objects'),\n    generatePropertiesTemplate = Handlebars.compile(document.getElementById('properties-template').innerHTML),\n    generateGeometryTemplate = Handlebars.compile(document.getElementById('geometry-template').innerHTML);\n\n/**\n * A wrapper for getElementsByClassName that only returns a single element.\n * @param  {String} className The class name to find elements by.\n * @return {DOMElement} The first found element.\n */\nvar getFirstElementByClassName = className => {\n  return _.first(document.getElementsByClassName(className));\n};\n\n/**\n * Sets a class on a given element, first making sure that the class\n * is removed from a previous element.\n * @param {Function} getter A function used to find a previous element.\n * @param {String} className The class to set.\n * @param {DOMElement} newEl The element receiving the new class.\n * @return {DOMElement} The newEl reference.\n */\nvar setUniqueClass = _.curry((getter, className, newEl) => {\n  var oldEl = getter(className);\n  if (oldEl) {\n    oldEl.classList.remove(className);\n  }\n  newEl.classList.add(className);\n  return newEl;\n});\n\n// Sets a unique 'selected' class on an element.\nvar swapSelected = setUniqueClass(getFirstElementByClassName, SELECTED_CLASS);\n\nvar handleClick = evt => {\n\n  var target = evt.target,\n      parent = target.closest('li'),\n      panel = parent.querySelector('.panel'),\n      label = Util.getLabel(evt);\n\n  // Reset the object if the reset button was pressed.\n  if (target.classList.contains('reset')) {\n    Data.reset(label);\n  }\n\n  // Otherwise, bail if it's not a factory button.\n  else if (!target.classList.contains('factory')) {\n    return false;\n  }\n\n  // Unselect the old, select the new.\n  swapSelected(parent);\n\n  // Unattach propertiesMenu before updating.\n  if (panel.firstChild) {\n    panel.removeChild(panel.firstChild);\n  }\n\n  // Align the properties box with the selected button.\n  panel.innerHTML = generatePropertiesTemplate(Data.get(label));\n\n  // Pass the event object along.\n  return label;\n};\n\nvar handleInput = evt => {\n\n  var target = evt.target,\n      label = Util.getLabel(evt);\n\n  if (target.id === 'input-color') {\n    Data.updateProp(label, 'color', target.value);\n  }\n  else {\n    target.closest('li').querySelector('output').innerHTML = target.value;\n    Data.update(label, target.name, +target.value);\n  }\n  return evt;\n};\n\nvar handleChange = evt => {\n\n  var label = Util.getLabel(evt);\n\n  if (evt.target.id === 'select-texture') {\n    Data.updateProp(label, 'texture', evt.target.value);\n    return label;\n  }\n\n  return null;\n};\n\nvar listenTo = _.curry((handlers, el, type, handler) => {\n  var baseHandler = handlers[type];\n  if (baseHandler) {\n    handler = _.flowRight(handler, baseHandler);\n  }\n  el.addEventListener(type, handler);\n});\n\nvar handlers = {\n  click: handleClick,\n  input: handleInput,\n  change: handleChange\n};\n\nvar generateMenu = () => {\n  var data = _.keys(GeometryData);\n  document.getElementById('objects').innerHTML = generateGeometryTemplate(data);\n};\n\nexport default {\n  generate: generateMenu,\n  listenTo: listenTo(handlers, objectsMenu)\n};\n","import _ from 'lodash';\n\nfunction getFactoryValue(el) {\n  return el.dataset.factory;\n}\n\nfunction getLabelFromEventTarget(evt) {\n  var target = evt && evt.target;\n  if (target) {\n    return getFactoryValue(target) || getFactoryValue(target.closest('.selected').querySelector('button'));\n  }\n  return null;\n}\n\n// A little method for extracting factory labels (classes) from events.\n// If the input is not an object, return it.\nvar getLabel = evt => {\n  return getLabelFromEventTarget(evt) || evt;\n};\n\n// Troubleshooting.\nvar trace = _.curry((tag, x) => {\n  console.log(tag, x);\n  return x;\n});\n\nexport default {\n  getLabel,\n  trace\n};\n"],"sourceRoot":"/source/"}